\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{TeachersGuide}[2020/10/10]
\usepackage{longtable}

\newcommand{\tpfwidth}{0.15\linewidth}
\newcommand{\tpswidth}{0.5\linewidth}
\newcommand{\tptwidth}{0.23\linewidth}
\newcommand{\GuidlineTitle}{学習指導案}
\newcommand{\tpf}{活動}
\newcommand{\tps}{指導内容}
\newcommand{\tpt}{指導上の留意点及び評価}
\newcounter{sectioncount}
\setcounter{sectioncount}{0}
\newcommand{\sectioncount}[1][]{\refstepcounter{sectioncount}\arabic{sectioncount}.}

\newcommand{\showTitle}[5]{%
\begin{center}
    {\LARGE \GuidlineTitle}
\end{center}
\begin{flushright}
    \begin{flushleft}
        \today 更新
    \end{flushleft}
    \begin{tabular}{ll}
        日時 & #1\\
        学級 & #2\\
        使用教科書 & #3\\ 
        指導科目 & #4\\
        授業者 & #5 
    \end{tabular}
\end{flushright}
}

\newenvironment{attainmentTarget}% %%到達目標
{\vspace{1em}
    \begin{leftbar}
        \noindent\textbf{\sectioncount 到達目標}\par
}%
{
    \end{leftbar}
}

\newenvironment{EvaluationCriterion}% %%評価基準
{
    \begin{leftbar}
        \noindent{\textbf{\sectioncount 評価規準}}
    \end{leftbar}
    \begin{longtable}[c]{|p{0.33\linewidth}|p{0.33\linewidth}|p{0.33\linewidth}|}
        \hline
        \multicolumn{1}{|c|}{知識・技能} & \multicolumn{1}{c|}{思考・判断・表現} & \multicolumn{1}{c|}{主体的に学習に取り組む態度}\\
        \hline
}%
{
    \end{longtable}
}


\newenvironment{TeachingProcedures}% %%指導計画表
    {
        \begin{leftbar}
            \noindent{\textbf{\sectioncount 本時の展開}}
        \end{leftbar}
        \fontsize{8pt}{12pt}\selectfont
        \renewcommand{\arraystretch}{1.2}
        \begin{longtable}[c]{|c|c|c|}
            \hline
            {\tpf} & {\tps} & {\tpt}\\
            \hline
            }%
            {\end{longtable}
        \normalsize
        }
\newenvironment{tpfcol}%
{
    \begin{minipage}{\tpfwidth}
        \vspace{0.5em}
}%
{
    \vspace{0.5em}
    \end{minipage}
    }
\newenvironment{tpscol}%
{
    \begin{minipage}{\tpswidth}
        \vspace{0.5em}
}%
{
        \vspace{0.5em}
    \end{minipage}
}
\newenvironment{tptcol}%
{
    \begin{minipage}{\tptwidth}
        \vspace{0.5em}
}%
{
    \vspace{0.5em}
    \end{minipage}
}
\newenvironment{showGoal}%
{
    \begin{leftbar}
        \noindent\textbf{到達目標}\\
}%
{
    \end{leftbar}
}
\endinput